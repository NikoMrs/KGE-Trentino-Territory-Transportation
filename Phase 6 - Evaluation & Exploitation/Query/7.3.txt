PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX etype: <http://knowdive.disi.unitn.it/etype#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

# 7.3 (Andrea): How many free public parking spots are there in Povo?
# Povo lat:46.0658059 lon:11.1525584

SELECT ?parking_facility ?parking_fee ?parking_access ?latitude ?longitude
       ((ABS(xsd:float(?latitude) - 46.0658059) + 
         ABS(xsd:float(?longitude) - 11.1525584)) AS ?approx_distance) 
WHERE {

    ?parking_facility a etype:Parking_facility;
    	  etype:parking_fee ?parking_fee ;
          etype:parking_access ?parking_access;
          etype:latitude ?latitude ;
          etype:longitude ?longitude .
    FILTER(STR(?parking_fee) = "no" && STR(?parking_access) = "public")
    
} ORDER BY ?approx_distance
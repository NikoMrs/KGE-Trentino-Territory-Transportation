PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX etype: <http://knowdive.disi.unitn.it/etype#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

# 1.3 (Anna): Which stops on bus line 5 are wheelchair accessible?
# Wheelchair boarding possible values:
# 	0: not specified
# 	1: yes
# 	2: no

select ?line_name ?departure_name ?wheelchair_boarding where {

	# Select only the bus 5 lines
    ?line etype:line_short_name ?line_name .
    FILTER(STR(?line_name) = "5")
    
    # Connect the lines with the trips and the trips with the stop events
    ?line etype:composed_of ?trip .
    ?trip etype:Contains ?departure_event .
    
    # We specify the direction of the trip
    ?trip etype:trip_direction ?trip_direction .
    FILTER(STR(?trip_direction) = "1")
    
   	# Connect the stops with the stop events
	?departure_stop etype:is_location_for ?departure_event .
    
    # Select the stops and its needed variables
	?departure_stop etype:name ?departure_name ;
    				etype:wheellchair_boarding ?wheelchair_boarding .
    
} GROUP BY ?line_name ?departure_name ?wheelchair_boarding
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX etype: <http://knowdive.disi.unitn.it/etype#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

# 5.4 (Anna): Which runs of bus line 5 heading downtown are wheelchair accessible?

select ?trip ?line_name ?trip_direction ?wheellchair_accessible where {

# PRIMA DOBBIAMO DARE LE RELAZIONI E POI FILTRIAMO IL TUTTO
    
    # We consider only the line 5 busses
    ?line etype:line_short_name ?line_name .
    FILTER(STR(?line_name) = "5")
    
    # Connects the lines with the trips
    ?line etype:composed_of ?trip .
         
    # We mantain only the trips that are going to the station and that are wheellchair accessible
    ?trip etype:trip_direction ?trip_direction ;
    	  etype:wheellchair_accessible ?wheellchair_accessible .
    FILTER(STR(?trip_direction) = "1" && STR(?wheellchair_accessible) = "1")
   
}
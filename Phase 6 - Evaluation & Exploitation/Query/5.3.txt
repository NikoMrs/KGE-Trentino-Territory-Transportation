PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX etype: <http://knowdive.disi.unitn.it/etype#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

# 5.3 (Marco): Where can I find a bike rack with frame locks near Piazza Duomo?
# Piazza Duomo lat:46.067419 lon:11.1209902

SELECT ?bicycle_parking ?type ?capacity ?latitude ?longitude
       ((ABS(xsd:float(?latitude) - 46.067419) + 
         ABS(xsd:float(?longitude) - 11.1209902)) AS ?approx_distance) 
WHERE {
    
    ?bicycle_parking a etype:Bicycle_parking;
    	  etype:bike_rack_type ?type ;
    	  etype:capacity ?capacity ;
          etype:latitude ?latitude ;
          etype:longitude ?longitude .
    FILTER(STR(?type) = "frame lock")
}
ORDER BY ?approx_distance limit 10